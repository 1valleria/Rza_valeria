@page "/"
@using Rza_valeria.Components
@using Rza_valeria.Utilities
@using Rza_valeria.Services
@inject UserSession UserSession
@inject NavigationManager NavigationManager
@inject CustomerService CustomerService

@rendermode InteractiveServer

<PageTitle>Home</PageTitle>

@if (UserSession.UserId == 0)
{
    <h1>Welcome to RZA!</h1>
    <h1>You need to log in!</h1>
    <button onclick=@Modify>Modify your account</button>
}

else
{
    <h1>your userid is @UserSession.UserId</h1>
    <h1>Hello @customerName, Welcome back to RZA!</h1>
    <button onclick=@Modify>Modify your account</button>
}
@code {
    private bool dialogShown = false;
    private string customerName;

    private void ShowDialog()
    {
        dialogShown = true;
    }
    private void Modify()
    {
        NavigationManager.NavigateTo("/modify");
    }
    protected override async Task OnInitializedAsync()
    {
        customerName = await CustomerService.GetCustomerNameAsync(UserSession.UserId);
    }
}
<button>Login</button>
